<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Galentine's Night ğŸ’–</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>

<!-- Floating Hearts Background -->
<!-- <div class="floating-heart">ğŸ’–</div>
<div class="floating-heart">ğŸ’•</div>
<div class="floating-heart">ğŸ’—</div>
<div class="floating-heart">ğŸ’“</div>
<div class="floating-heart">ğŸ’</div>
<div class="floating-heart">ğŸ’</div>
<div class="floating-heart">ğŸ’–</div>
<div class="floating-heart">ğŸ’•</div>
<div class="floating-heart">ğŸ’—</div>
<div class="floating-heart">ğŸ’“</div>
<div class="floating-heart">ğŸ’</div>
<div class="floating-heart">ğŸ’</div>
<div class="floating-heart">ğŸ’–</div>
<div class="floating-heart">ğŸ’•</div>
<div class="floating-heart">ğŸ’—</div>
<div class="floating-heart">ğŸ’“</div>
<div class="floating-heart">ğŸ’</div>
<div class="floating-heart">ğŸ’</div>
<div class="floating-heart">ğŸ’–</div>
<div class="floating-heart">ğŸ’•</div> -->

<div class="container my-5">
    
    <!-- Slide 1: Welcome -->
    <div class="slide active">
        <fieldset class="border rounded-3 p-5 bg-white shadow-lg">
            <legend class="float-none w-auto px-3 text-center">
                <h1 class="display-3 fw-bold" style="color: #de77f3;">ğŸ’– Galentine's Night ğŸ’–</h1>
            </legend>
            <div class="text-center">
                <div class="big-emoji">ğŸ‰</div>
                <p class="lead fs-3 mb-4">You're Invited!</p>
                <p class="fs-5 text-muted mb-5">
                    Hey Gorgeous! ğŸ’•<br>
                    Get ready for the ultimate Galentines Dinner filled with<br>
                    laughter, delicious food & fabulous cocktails!
                </p>
                <button class="btn btn-pink btn-lg px-5 py-3" onclick="nextSlide()">
                    Let's Go! âœ¨
                </button>
            </div>
            <div class="progress-dots mt-4">
                <span class="dot active" onclick="goToSlide(0)"></span>
                <span class="dot" onclick="goToSlide(1)"></span>
                <span class="dot" onclick="goToSlide(2)"></span>
                <span class="dot" onclick="goToSlide(3)"></span>
                <span class="dot" onclick="goToSlide(4)"></span>
            </div>
        </fieldset>
    </div>

    <!-- Slide 2: Date & Time -->
    <div class="slide">
        <fieldset class="border rounded-3 p-5 bg-white shadow-lg">
            <legend class="float-none w-auto px-3 text-center">
                <h1 class="display-4 fw-bold" style="color: #de77f3;">Save The Date ğŸ“…</h1>
            </legend>
            <div class="row justify-content-center">
                <div class="col-md-4">
                    <div class="info-card text-center">
                        <div class="icon">ğŸ“…</div>
                        <h5 class="fw-bold" style="color: #de77f3;">Date</h5>
                        <p class="fs-5">14.02.2026</p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="info-card text-center">
                        <div class="icon">â°</div>
                        <h5 class="fw-bold" style="color: #de77f3;">Time</h5>
                        <p class="fs-5">18:00</p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="info-card text-center">
                        <div class="icon">ğŸ“</div>
                        <h5 class="fw-bold" style="color: #de77f3;">Location</h5>
                        <p class="fs-5">GlÃ¼ckaufstraÃŸe 52<br>WG 13</p>
                    </div>
                </div>
            </div>
            <div class="text-center mt-4">
                <button class="btn btn-pink btn-lg px-5 py-3 me-2" onclick="nextSlide()">
                    What's For Dinner? ğŸ½ï¸
                </button>
                <button class="btn btn-outline-pink btn-lg px-4 py-3" onclick="prevSlide()">
                    â† Back
                </button>
            </div>
            <div class="progress-dots mt-4">
                <span class="dot" onclick="goToSlide(0)"></span>
                <span class="dot active" onclick="goToSlide(1)"></span>
                <span class="dot" onclick="goToSlide(2)"></span>
                <span class="dot" onclick="goToSlide(3)"></span>
                <span class="dot" onclick="goToSlide(4)"></span>
            </div>
        </fieldset>
    </div>

    <!-- Slide 3: Menu -->
    <div class="slide">
        <fieldset class="border rounded-3 p-5 bg-white shadow-lg">
            <legend class="float-none w-auto px-3 text-center">
                <h1 class="display-4 fw-bold" style="color: #de77f3;">On The Menu ğŸ½ï¸</h1>
            </legend>
            <div class="text-center">
                <img src="https://images.unsplash.com/photo-1589302168068-964664d93dc0?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8YmlyeWFuaXxlbnwwfHwwfHx8MA%3D%3D" 
                     alt="Biryani" class="feature-image">
                <h3 class="mt-4 mb-2" style="color: #de77f3;">âœ¨ Homemade Biryani âœ¨</h3>
                <p class="lead text-muted mb-4">Aromatic, flavorful & made with love ğŸ˜ ğŸ™‚â€â†”ï¸</p>
                <button class="btn btn-pink btn-lg px-5 py-3 me-2" onclick="nextSlide()">
                    What About Drinks? ğŸ¸
                </button>
                <button class="btn btn-outline-pink btn-lg px-4 py-3" onclick="prevSlide()">
                    â† Back
                </button>
            </div>
            <div class="progress-dots mt-4">
                <span class="dot" onclick="goToSlide(0)"></span>
                <span class="dot" onclick="goToSlide(1)"></span>
                <span class="dot active" onclick="goToSlide(2)"></span>
                <span class="dot" onclick="goToSlide(3)"></span>
                <span class="dot" onclick="goToSlide(4)"></span>
            </div>
        </fieldset>
    </div>

    <!-- Slide 4: Cocktails -->
    <div class="slide">
        <fieldset class="border rounded-3 p-5 bg-white shadow-lg">
            <legend class="float-none w-auto px-3 text-center">
                <h1 class="display-4 fw-bold" style="color: #de77f3;">Cocktails & Vibes ğŸ¸</h1>
            </legend>
            <div class="text-center">
                <img src="https://media.istockphoto.com/id/861680886/photo/rose-champagne-cocktails.webp?a=1&b=1&s=612x612&w=0&k=20&c=XFMDV0Z10FZDgdOorWjyQDeZkQgTv7XlRWdAvRPBOHw=" 
                     alt="Cocktails" class="feature-image">
                <h3 class="mt-4 mb-2" style="color: #de77f3;">âœ¨ Cute Cocktails & Girl Talk âœ¨</h3>
                <p class="lead text-muted mb-4">All night long (Until 10:30 pmğŸ¤£)ğŸ’…ğŸ’•</p>
                <button class="btn btn-pink btn-lg px-5 py-3 me-2" onclick="nextSlide()">
                    Will You Come?ğŸ¥ºğŸ¥ºğŸ¥º ğŸ’–
                </button>
                <button class="btn btn-outline-pink btn-lg px-4 py-3" onclick="prevSlide()">
                    â† Back
                </button>
            </div>
            <div class="progress-dots mt-4">
                <span class="dot" onclick="goToSlide(0)"></span>
                <span class="dot" onclick="goToSlide(1)"></span>
                <span class="dot" onclick="goToSlide(2)"></span>
                <span class="dot active" onclick="goToSlide(3)"></span>
                <span class="dot" onclick="goToSlide(4)"></span>
            </div>
        </fieldset>
    </div>

    <!-- Slide 5: RSVP -->
    <div class="slide">
        <fieldset class="border rounded-3 p-5 bg-white shadow-lg">
            <legend class="float-none w-auto px-3 text-center">
                <h1 class="display-4 fw-bold" style="color: #de77f3;">Will You Be My Galentine? ğŸ’•</h1>
            </legend>
            <div class="text-center">
                <p class="lead fs-4 text-muted mb-4">We need you there, babe! âœ¨</p>
                
                <div class="mb-4">
                    <input type="text" id="name" placeholder="Enter your name ğŸ’–" 
                           class="form-control name-input mx-auto" style="max-width: 400px;">
                    <div class="form-text">Let me know who's coming! ğŸ˜Š</div>
                </div>

                <div class="d-flex flex-wrap justify-content-center mb-4">
                    <button class="btn btn-yes rsvp-btn" onclick="sendResponse('Yes ğŸ’ƒ')">
                        <div class="fs-4">YES! ğŸ’ƒ</div>
                        <small>I'll be there!</small>
                    </button>
                    <button class="btn btn-no rsvp-btn" id="noBtn" 
                            onmouseover="runAway()" 
                            ontouchstart="runAway()"
                            onclick="sendResponse('No ğŸ˜¢')">
                        <div class="fs-4">Sorry ğŸ˜¢</div>
                        <small>Can't make it</small>
                    </button>
                </div>

                <div id="reply" class="mb-4"></div>

                <p class="text-muted">
                    <strong>Dress code:</strong> Comfy & cute ğŸ’•<br>
                    Bring your sparkle âœ¨
                </p>

                <button class="btn btn-outline-pink btn-lg px-4 py-3 mt-3" onclick="prevSlide()">
                    â† Back
                </button>
            </div>
            <div class="progress-dots mt-4">
                <span class="dot" onclick="goToSlide(0)"></span>
                <span class="dot" onclick="goToSlide(1)"></span>
                <span class="dot" onclick="goToSlide(2)"></span>
                <span class="dot" onclick="goToSlide(3)"></span>
                <span class="dot active" onclick="goToSlide(4)"></span>
            </div>
        </fieldset>
    </div>

</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
    let currentSlide = 0;
    const slides = document.querySelectorAll('.slide');

    function showSlide(n) {
        slides.forEach(slide => slide.classList.remove('active'));
        
        if (n >= slides.length) currentSlide = slides.length - 1;
        if (n < 0) currentSlide = 0;
        else currentSlide = n;
        
        slides[currentSlide].classList.add('active');
        window.scrollTo(0, 0);
    }

    function nextSlide() {
        showSlide(currentSlide + 1);
    }

    function prevSlide() {
        showSlide(currentSlide - 1);
    }

    function goToSlide(n) {
        showSlide(n);
    }

    // Keyboard navigation
    document.addEventListener('keydown', (e) => {
        if (e.key === 'ArrowRight') nextSlide();
        if (e.key === 'ArrowLeft') prevSlide();
    });

    function sendResponse(answer) {
        const name = document.getElementById("name").value.trim();
        const replyEl = document.getElementById("reply");

        if (!name) {
            replyEl.innerHTML = '<div class="alert alert-warning">Enter your name first, babe ğŸ’…</div>';
            return;
        }

        if(answer === 'Yes ğŸ’ƒ'){
            confettiBurst();
            replyEl.innerHTML = `
                <div class="alert alert-success" role="alert">
                    <h4 class="alert-heading">YAAAS ${name}! ğŸ’–âœ¨</h4>
                    <p class="mb-0">Can't wait to see you! ğŸ¸</p>
                </div>
            `;
            
            // Send to backend
            fetch('/rsvp', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({name: name, response: answer})
            });
        } else {
            replyEl.innerHTML = `
                <div class="alert alert-secondary" role="alert">
                    <h4 class="alert-heading">Aww ${name} ğŸ˜­</h4>
                    <p class="mb-0">We'll miss you! Love you anyway ğŸ’•</p>
                </div>
            `;
            
            // Send to backend
            fetch('/rsvp', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({name: name, response: answer})
            });
        }
    }

    function runAway() {
        const noBtn = document.getElementById('noBtn');
        
        // Calculate random position within viewport with padding
        const padding = 50;
        const maxX = window.innerWidth - noBtn.offsetWidth - padding;
        const maxY = window.innerHeight - noBtn.offsetHeight - padding;
        
        const randomX = Math.max(padding, Math.random() * maxX);
        const randomY = Math.max(padding, Math.random() * maxY);
        
        // Apply position
        noBtn.style.position = 'fixed';
        noBtn.style.left = randomX + 'px';
        noBtn.style.top = randomY + 'px';
        noBtn.style.transition = 'all 0.3s ease';
        noBtn.style.zIndex = '1000';
    }

    function confettiBurst() {
        for (let i = 0; i < 50; i++) {
            setTimeout(() => {
                const heart = document.createElement("div");
                heart.innerHTML = Math.random() > 0.5 ? "ğŸ’–" : "âœ¨";
                heart.style.position = "fixed";
                heart.style.left = Math.random() * 100 + "vw";
                heart.style.top = "-20px";
                heart.style.fontSize = (20 + Math.random() * 30) + "px";
                heart.style.animation = "fall 3s ease-in";
                heart.style.zIndex = "9999";
                document.body.appendChild(heart);
                
                setTimeout(() => heart.remove(), 3000);
            }, i * 40);
        }
    }
</script>

</body>
</html>